@using TestBlog.Models.EntityFramework
@model List<Post>
@{
    ViewBag.Title = "Posts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container has-background-black">
    <h1 class="is-size-1 has-text-white has-text-centered">All posts</h1>
    <div class="mt-3 is-flex is-flex-direction-row is-justify-content-center">
        <a class="button is-link" href="/Home/AddPost">Add a post</a>
    </div>
</div>
<hr />
@foreach (Post post in Model)
{
    <div class="card mt-5 has-background-black has-text-white">
        <div class="card-image">
            <figure class="image has-background-white" style="max-width: 720px;">
                <img src=@post.Thumbnail alt="Post thumbnail">
            </figure>
        </div>
        <div class="card-content p-3">
            <div class="content">
                <h2 class="title is-size-2 has-text-white has-text-centered">
                    @post.Title
                </h2>
            </div>
        </div>

        <div class="content p-5">
            <p class="is-size-5">

                @post.Body.Substring(0, post.Body.Length > 60 ? 50 : post.Body.Length - 1) ...
            </p>
            <br />
            <a class="has-text-link" href="/Home/Post/@post.ID">Read full post</a>
            <br />
            <time>@post.CreatedDate.Value.ToLongDateString()</time>
        </div>
    </div>
}
